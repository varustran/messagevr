<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cOS Ultra | Flasher</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
        :root {
            --pixel-font: 'Press Start+2P', cursive;
            --primary-color: #FFFFFF;
            --secondary-color: #000000;
        }
        body {
            background: linear-gradient(-45deg, #000000, #1a1a1a, #000000, #2b2b2b);
            background-size: 400% 400%;
            animation: gradientBG 25s ease infinite;
            color: var(--primary-color);
            font-family: var(--pixel-font);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            overflow: hidden;
        }
        @keyframes gradientBG { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
        
        h1 {
            font-size: 2.2rem;
            text-shadow: 0 0 15px rgba(255, 255, 255, 0.2);
            margin-bottom: 30px;
            letter-spacing: -2px;
        }

        /* Tùy chỉnh giao diện cho công cụ nạp */
        esp-web-install-button {
            --esp-web-install-button-color: var(--primary-color);
            --esp-web-install-button-background-color: transparent;
            --esp-web-install-button-border: 2px solid var(--primary-color);
            --esp-web-install-button-border-radius: 10px;
            font-family: var(--pixel-font);
            box-shadow: 0 0 10px transparent;
            transition: all 0.3s ease;
            margin-bottom: 20px;
        }
        esp-web-install-button::part(button) {
            padding: 15px 30px;
        }
        esp-web-install-button:not([install-unsupported]):hover {
            --esp-web-install-button-background-color: var(--primary-color);
            --esp-web-install-button-color: var(--secondary-color);
            box-shadow: 0 0 25px var(--primary-color);
        }
        esp-web-install-button[install-unsupported] {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Tùy chỉnh cho cửa sổ dialog */
        esp-web-install-dialog {
            --esp-web-install-dialog-font-family: var(--pixel-font);
            --esp-web-install-dialog-background: rgba(20, 20, 20, 0.8);
            --esp-web-install-dialog-backdrop-background: rgba(0, 0, 0, 0.7);
            --esp-web-install-dialog-header-color: var(--primary-color);
            --esp-web-install-dialog-body-color: #ddd;
            --esp-web-install-dialog-icon-color: var(--primary-color);
            --esp-web-install-dialog-error-color: #FF453A;
            --esp-web-install-dialog-success-color: #00FF00;
            --esp-web-install-dialog-progress-color: var(--primary-color);
        }
    </style>
</head>
<body>

    <h1>cOS Ultra Flasher</h1>
    
    <!-- Component esp-web-install-button phiên bản ổn định -->
    <esp-web-install-button manifest="firmware/manifest.json">
        <span slot="unsupported">Trình duyệt không hỗ trợ Web Serial</span>
        <span slot="not-allowed">Cần HTTPS để hoạt động</span>
    </esp-web-install-button>

    <!-- Script để tải component từ unpkg -->
    <!-- Phiên bản 9.2.0 này được biết là rất ổn định -->
    <script type="module" src="https://unpkg.com/esp-web-tools@9.2.0/dist/web/install-button.js?module"></script>
    
</body>
</html>
